@{
    ViewData["Title"] = "Collection";
}
@model Application

<h1>Please Enter a Movie!</h1>
<form method="post">
    <label asp-for="CategoryId">Category</label>
    <select asp-for="CategoryId" required>
        <option value="">-- Select Category --</option>
        @foreach (var cat in ViewBag.Categories)
        {
            <option value="@cat.CategoryId">@cat.CategoryName</option>
        }
    </select>
    <span asp-validation-for="CategoryId" class="text-danger"></span>
    <br />

    <label asp-for="Title"></label>
    <input asp-for="Title" required />
    <span asp-validation-for="Title" class="text-danger"></span>
    <br />

    <label asp-for="Year"></label>
    <input asp-for="Year" type="number" required />
    <span asp-validation-for="Year" class="text-danger"></span>
    <br />

    <label asp-for="Director"></label>
    <input asp-for="Director" required />
    <span asp-validation-for="Director" class="text-danger"></span>
    <br />

    <label asp-for="Rating"></label>
    <select asp-for="Rating" required>
        <option value="">-- Select Rating --</option>
        <option value="G">G</option>
        <option value="PG">PG</option>
        <option value="PG-13">PG-13</option>
        <option value="R">R</option>
    </select>
    <span asp-validation-for="Rating" class="text-danger"></span>
    <br />

    <label asp-for="Edited"></label>
    <select asp-for="Edited">
        <option value="">-- Select --</option>
        <option value="true">Yes</option>
        <option value="false">No</option>
    </select>
    <span asp-validation-for="Edited" class="text-danger"></span>
    <br />

    <label asp-for="LentTo"></label>
    <input asp-for="LentTo" />
    <br />

    <label asp-for="Notes"></label>
    <input asp-for="Notes" maxlength="25" />
    <small class="text-muted">Max 25 characters</small>
    <br />

    <button type="submit">Submit</button>
</form>

<h2>Movie Collection</h2>
<table border="1" cellpadding="5">
    <thead>
        <tr>
            <th>Category</th>
            <th>Title</th>
            <th>Year</th>
            <th>Director</th>
            <th>Rating</th>
            <th>Edited</th>
            <th>Lent To</th>
            <th>Notes</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var movie in ViewBag.Movies)
        {
            <tr>
                <td>@movie.Category?.CategoryName</td>
                <td>@movie.Title</td>
                <td>@movie.Year</td>
                <td>@movie.Director</td>
                <td>@movie.Rating</td>
                <td>@(movie.Edited == true ? "Yes" : "No")</td>
                <td>@movie.LentTo</td>
                <td>@movie.Notes</td>
            </tr>
        }
    </tbody>
</table>